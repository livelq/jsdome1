<!DOCTYPE html>
<html>
<head>
	<title>弹幕练习</title>
	<style type="text/css">
	*{
		margin: 0;
		padding: 0;
	}
	#div1{
		border: 2px solid red;
		height: 500px;
	}
	#div2{
		margin-top: 30px;
		text-align: center;
	}
	#text{
		height: 30px;
		width: 300px;
	}
	#submit{
		height: 30px;
		width: 40px;
	}
	</style>
</head>
<body>
<div>
<div id="div1"></div>
<div id="div2">
<input type="text" placeholder="说点什么？" id="text">
<button id="submit" onclick="send()">发送</button>
</div>
</div>

<script type="text/javascript">
function getId(idStr){
	return document.getElementById(idStr);
}
function send(){
	var word = getId('text').value;
	var top =parseInt(Math.random()*500) - 20;
	var color1 = parseInt(Math.random()*256);
	var color2 = parseInt(Math.random()*256);
	var color3 = parseInt(Math.random()*256);
	var color = 'rgb('+ color1 + ',' + color2 + ',' + color3 + ')';
	top = top < 0 ? 0 : top;
	var span = document.createElement('span');
	span.style.position = 'absolute';
	span.style.left = '1360px';
	span.style.color = color;
	span.style.top = top + 'px'; 
	span.style.whiteSpace = 'nowrap';

	var num = parseInt(Math.random()*10) - 1;
	span.setAttribute('speed',num);
	span.speed = num;
	span.innerHTML = word;
	getId('div1').appendChild(span);
	// getId('text').value = '';
}
setInterval(move,200);
function move(){
	var spanArray = getId('div1').children;
	for (var i = 0; i < spanArray.length; i++) 
	{
		spanArray[i].style.left = parseInt(spanArray[i].style.left) - spanArray[i].speed +'px';
	}
}

// function moveLeft(){
// 	var spanArray = getId('div1').children;
// 	for(var i=0;i<spanArray.length;i++)
// 	{//改变元素左边的距离，使之看起来向左移动
// 		spanArray[i].style.left = parseInt(spanArray[i].style.left)-spanArray[i].speed + 'px';
// 	}
// }



</script>
</body>
</html>